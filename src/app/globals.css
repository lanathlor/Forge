@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* ============================================
       DESIGN TOKEN SYSTEM - LIGHT THEME
       ============================================ */

    /* ----- Spacing Scale (4px base unit) ----- */
    --space-0: 0px;
    --space-0-5: 2px;
    --space-1: 4px;
    --space-1-5: 6px;
    --space-2: 8px;
    --space-2-5: 10px;
    --space-3: 12px;
    --space-3-5: 14px;
    --space-4: 16px;
    --space-5: 20px;
    --space-6: 24px;
    --space-7: 28px;
    --space-8: 32px;
    --space-9: 36px;
    --space-10: 40px;
    --space-11: 44px;
    --space-12: 48px;
    --space-14: 56px;
    --space-16: 64px;
    --space-20: 80px;
    --space-24: 96px;
    --space-28: 112px;
    --space-32: 128px;
    --space-36: 144px;
    --space-40: 160px;
    --space-44: 176px;
    --space-48: 192px;
    --space-52: 208px;
    --space-56: 224px;
    --space-60: 240px;
    --space-64: 256px;
    --space-72: 288px;
    --space-80: 320px;
    --space-96: 384px;

    /* ----- Typography Scale (1.25 ratio - Major Third) ----- */
    --font-size-xs: 0.75rem;      /* 12px */
    --font-size-sm: 0.875rem;     /* 14px */
    --font-size-base: 1rem;       /* 16px */
    --font-size-lg: 1.125rem;     /* 18px */
    --font-size-xl: 1.25rem;      /* 20px */
    --font-size-2xl: 1.5rem;      /* 24px */
    --font-size-3xl: 1.875rem;    /* 30px */
    --font-size-4xl: 2.25rem;     /* 36px */
    --font-size-5xl: 3rem;        /* 48px */
    --font-size-6xl: 3.75rem;     /* 60px */
    --font-size-7xl: 4.5rem;      /* 72px */
    --font-size-8xl: 6rem;        /* 96px */
    --font-size-9xl: 8rem;        /* 128px */

    /* ----- Line Heights ----- */
    --line-height-none: 1;
    --line-height-tight: 1.25;
    --line-height-snug: 1.375;
    --line-height-normal: 1.5;
    --line-height-relaxed: 1.625;
    --line-height-loose: 2;

    /* ----- Letter Spacing ----- */
    --letter-spacing-tighter: -0.05em;
    --letter-spacing-tight: -0.025em;
    --letter-spacing-normal: 0em;
    --letter-spacing-wide: 0.025em;
    --letter-spacing-wider: 0.05em;
    --letter-spacing-widest: 0.1em;

    /* ----- Font Weights ----- */
    --font-weight-thin: 100;
    --font-weight-extralight: 200;
    --font-weight-light: 300;
    --font-weight-normal: 400;
    --font-weight-medium: 500;
    --font-weight-semibold: 600;
    --font-weight-bold: 700;
    --font-weight-extrabold: 800;
    --font-weight-black: 900;

    /* ----- Border Radii ----- */
    --radius-none: 0px;
    --radius-sm: 0.125rem;        /* 2px */
    --radius-default: 0.25rem;    /* 4px */
    --radius-md: 0.375rem;        /* 6px */
    --radius-lg: 0.5rem;          /* 8px */
    --radius-xl: 0.75rem;         /* 12px */
    --radius-2xl: 1rem;           /* 16px */
    --radius-3xl: 1.5rem;         /* 24px */
    --radius-full: 9999px;

    /* ----- Shadow Depths ----- */
    --shadow-none: none;
    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
    --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);

    /* ----- Elevation Shadows (semantic) ----- */
    --shadow-elevation-low: var(--shadow-sm);
    --shadow-elevation-medium: var(--shadow-md);
    --shadow-elevation-high: var(--shadow-lg);
    --shadow-elevation-highest: var(--shadow-xl);

    /* ----- Z-Index Scale ----- */
    --z-behind: -1;
    --z-base: 0;
    --z-raised: 10;
    --z-dropdown: 100;
    --z-sticky: 200;
    --z-overlay: 300;
    --z-modal: 400;
    --z-popover: 500;
    --z-tooltip: 600;
    --z-toast: 700;

    /* ----- Transition Durations ----- */
    --duration-instant: 0ms;
    --duration-fast: 100ms;
    --duration-normal: 200ms;
    --duration-slow: 300ms;
    --duration-slower: 500ms;
    --duration-slowest: 700ms;

    /* ----- Transition Easings ----- */
    --ease-linear: linear;
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-out: cubic-bezier(0, 0, 0.2, 1);
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
    --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);

    /* =============================================
       SEMANTIC COLOR TOKENS - LIGHT THEME
       All colors meet WCAG 2.1 AA contrast ratios
       ============================================= */

    /* ----- Surface Colors ----- */
    --surface-base: 0 0% 100%;              /* #FFFFFF - Base background */
    --surface-raised: 210 20% 98%;          /* #FAFBFC - Slightly elevated */
    --surface-elevated: 210 17% 95%;        /* #F1F3F5 - Cards, panels */
    --surface-overlay: 0 0% 100%;           /* #FFFFFF - Modals, popovers */
    --surface-sunken: 210 16% 93%;          /* #EBEDF0 - Inset areas */
    --surface-interactive: 210 20% 98%;     /* #FAFBFC - Buttons hover bg */
    --surface-disabled: 210 14% 89%;        /* #DEE2E6 - Disabled elements */

    /* ----- Text Colors (WCAG AA compliant on surfaces) ----- */
    --text-primary: 222 47% 11%;            /* #0F172A - Primary text, 15.8:1 contrast */
    --text-secondary: 215 16% 35%;          /* #4B5563 - Secondary text, 7.5:1 contrast */
    --text-muted: 215 14% 45%;              /* #6B7280 - Muted text, 4.6:1 contrast */
    --text-disabled: 215 13% 65%;           /* #9CA3AF - Disabled, decorative only */
    --text-inverse: 0 0% 100%;              /* #FFFFFF - On dark backgrounds */
    --text-link: 217 91% 40%;               /* #2563EB - Links, 4.7:1 contrast */
    --text-link-hover: 217 91% 30%;         /* #1D4ED8 - Link hover */

    /* ----- Accent Colors (Brand) ----- */
    --accent-primary: 217 91% 50%;          /* #3B82F6 - Primary brand */
    --accent-primary-hover: 217 91% 45%;    /* #2563EB - Hover state */
    --accent-primary-active: 217 91% 40%;   /* #1D4ED8 - Active/pressed */
    --accent-primary-subtle: 217 91% 95%;   /* #EFF6FF - Subtle background */
    --accent-primary-foreground: 0 0% 100%; /* #FFFFFF - Text on accent */

    --accent-secondary: 262 83% 58%;        /* #8B5CF6 - Secondary brand */
    --accent-secondary-hover: 262 83% 52%;  /* #7C3AED - Hover state */
    --accent-secondary-active: 262 83% 46%; /* #6D28D9 - Active/pressed */
    --accent-secondary-subtle: 262 90% 96%; /* #F5F3FF - Subtle background */
    --accent-secondary-foreground: 0 0% 100%; /* #FFFFFF */

    /* ----- Semantic Status Colors ----- */
    --success: 142 76% 36%;                 /* #16A34A - Success, 4.5:1 */
    --success-hover: 142 76% 32%;           /* #15803D */
    --success-subtle: 142 77% 95%;          /* #F0FDF4 */
    --success-foreground: 0 0% 100%;        /* #FFFFFF */

    --warning: 38 92% 50%;                  /* #F59E0B - Warning */
    --warning-hover: 38 92% 45%;            /* #D97706 */
    --warning-subtle: 48 96% 95%;           /* #FFFBEB */
    --warning-foreground: 0 0% 0%;          /* #000000 for contrast */

    --error: 0 84% 50%;                     /* #EF4444 - Error, 4.5:1 */
    --error-hover: 0 84% 45%;               /* #DC2626 */
    --error-subtle: 0 86% 97%;              /* #FEF2F2 */
    --error-foreground: 0 0% 100%;          /* #FFFFFF */

    --info: 199 89% 48%;                    /* #0EA5E9 - Info */
    --info-hover: 199 89% 42%;              /* #0284C7 */
    --info-subtle: 199 95% 95%;             /* #F0F9FF */
    --info-foreground: 0 0% 100%;           /* #FFFFFF */

    /* ----- Border Colors ----- */
    --border-default: 214 32% 91%;          /* #E2E8F0 - Default borders */
    --border-muted: 214 20% 94%;            /* #F1F5F9 - Subtle borders */
    --border-strong: 214 32% 80%;           /* #CBD5E1 - Emphasized borders */
    --border-focus: 217 91% 50%;            /* #3B82F6 - Focus rings */
    --border-error: 0 84% 50%;              /* #EF4444 - Error state */
    --border-success: 142 76% 36%;          /* #16A34A - Success state */

    /* ----- Interactive Element Colors ----- */
    --interactive-default: 215 16% 47%;     /* #64748B */
    --interactive-hover: 215 25% 27%;       /* #334155 */
    --interactive-active: 222 47% 11%;      /* #0F172A */

    /* =============================================
       LEGACY TOKENS (shadcn/ui compatibility)
       ============================================= */
    --background: 0 0% 100%;
    --foreground: 222 47% 11%;
    --card: 210 20% 98%;
    --card-foreground: 222 47% 11%;
    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;
    --primary: 217 91% 50%;
    --primary-foreground: 0 0% 100%;
    --secondary: 210 17% 95%;
    --secondary-foreground: 222 47% 11%;
    --muted: 210 14% 89%;
    --muted-foreground: 215 16% 35%;
    --accent: 262 83% 58%;
    --accent-foreground: 0 0% 100%;
    --destructive: 0 84% 50%;
    --destructive-foreground: 0 0% 100%;
    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 217 91% 50%;
    --radius: 0.5rem;
  }

  .dark {
    /* ============================================
       DESIGN TOKEN SYSTEM - DARK THEME
       ============================================ */

    /* ----- Shadow Depths (adjusted for dark mode) ----- */
    --shadow-xs: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow-sm: 0 1px 3px 0 rgb(0 0 0 / 0.4), 0 1px 2px -1px rgb(0 0 0 / 0.4);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.4);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.4);
    --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.5);
    --shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.6);
    --shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.3);

    /* =============================================
       SEMANTIC COLOR TOKENS - DARK THEME
       All colors meet WCAG 2.1 AA contrast ratios
       ============================================= */

    /* ----- Surface Colors ----- */
    --surface-base: 222 47% 6%;             /* #0A0F1A - Base background */
    --surface-raised: 222 47% 9%;           /* #111827 - Slightly elevated */
    --surface-elevated: 222 47% 12%;        /* #1E293B - Cards, panels */
    --surface-overlay: 222 47% 14%;         /* #1E3A5F - Modals, popovers */
    --surface-sunken: 222 47% 4%;           /* #030712 - Inset areas */
    --surface-interactive: 222 47% 14%;     /* #1E293B - Buttons hover bg */
    --surface-disabled: 222 47% 18%;        /* #334155 - Disabled elements */

    /* ----- Text Colors (WCAG AA compliant on dark surfaces) ----- */
    --text-primary: 210 40% 98%;            /* #F8FAFC - Primary text, 15.8:1 */
    --text-secondary: 215 20% 75%;          /* #B4BCD0 - Secondary text, 8.6:1 */
    --text-muted: 215 16% 60%;              /* #8B9BB4 - Muted text, 4.5:1 */
    --text-disabled: 215 13% 45%;           /* #6B7A8F - Disabled, decorative only */
    --text-inverse: 222 47% 11%;            /* #0F172A - On light backgrounds */
    --text-link: 217 91% 65%;               /* #60A5FA - Links, 5.9:1 contrast */
    --text-link-hover: 217 91% 75%;         /* #93C5FD - Link hover */

    /* ----- Accent Colors (Brand) ----- */
    --accent-primary: 217 91% 60%;          /* #60A5FA - Primary brand */
    --accent-primary-hover: 217 91% 65%;    /* #78B4FC - Hover state */
    --accent-primary-active: 217 91% 70%;   /* #93C5FD - Active/pressed */
    --accent-primary-subtle: 217 33% 17%;   /* #1E3A5F - Subtle background */
    --accent-primary-foreground: 222 47% 6%; /* #0A0F1A - Text on accent */

    --accent-secondary: 262 83% 68%;        /* #A78BFA - Secondary brand */
    --accent-secondary-hover: 262 83% 72%;  /* #B8A4FB - Hover state */
    --accent-secondary-active: 262 83% 76%; /* #C4B5FD - Active/pressed */
    --accent-secondary-subtle: 262 30% 18%; /* #2E1E50 - Subtle background */
    --accent-secondary-foreground: 222 47% 6%; /* #0A0F1A */

    /* ----- Semantic Status Colors ----- */
    --success: 142 71% 45%;                 /* #22C55E - Success */
    --success-hover: 142 71% 50%;           /* #2DD469 */
    --success-subtle: 142 40% 12%;          /* #14532D */
    --success-foreground: 222 47% 6%;       /* #0A0F1A */

    --warning: 38 92% 55%;                  /* #FBBF24 - Warning */
    --warning-hover: 38 92% 60%;            /* #FCD34D */
    --warning-subtle: 38 40% 14%;           /* #422006 */
    --warning-foreground: 222 47% 6%;       /* #0A0F1A */

    --error: 0 84% 60%;                     /* #F87171 - Error */
    --error-hover: 0 84% 65%;               /* #FB8C8C */
    --error-subtle: 0 40% 15%;              /* #450A0A */
    --error-foreground: 222 47% 6%;         /* #0A0F1A */

    --info: 199 89% 55%;                    /* #38BDF8 - Info */
    --info-hover: 199 89% 60%;              /* #58C9FA */
    --info-subtle: 199 40% 15%;             /* #0C4A6E */
    --info-foreground: 222 47% 6%;          /* #0A0F1A */

    /* ----- Border Colors ----- */
    --border-default: 215 28% 20%;          /* #2D3748 - Default borders */
    --border-muted: 215 20% 15%;            /* #1A202C - Subtle borders */
    --border-strong: 215 28% 30%;           /* #4A5568 - Emphasized borders */
    --border-focus: 217 91% 60%;            /* #60A5FA - Focus rings */
    --border-error: 0 84% 60%;              /* #F87171 - Error state */
    --border-success: 142 71% 45%;          /* #22C55E - Success state */

    /* ----- Interactive Element Colors ----- */
    --interactive-default: 215 20% 55%;     /* #94A3B8 */
    --interactive-hover: 215 20% 70%;       /* #B8C5D6 */
    --interactive-active: 210 40% 98%;      /* #F8FAFC */

    /* =============================================
       LEGACY TOKENS (shadcn/ui compatibility)
       ============================================= */
    --background: 222 47% 6%;
    --foreground: 210 40% 98%;
    --card: 222 47% 9%;
    --card-foreground: 210 40% 98%;
    --popover: 222 47% 12%;
    --popover-foreground: 210 40% 98%;
    --primary: 217 91% 60%;
    --primary-foreground: 222 47% 6%;
    --secondary: 222 47% 14%;
    --secondary-foreground: 210 40% 98%;
    --muted: 222 47% 18%;
    --muted-foreground: 215 20% 65%;
    --accent: 262 83% 68%;
    --accent-foreground: 222 47% 6%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 222 47% 6%;
    --border: 215 28% 20%;
    --input: 215 28% 20%;
    --ring: 217 91% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }

  /* Mobile-first optimizations */
  html {
    /* Prevent text size adjustment on mobile */
    -webkit-text-size-adjust: 100%;
    -moz-text-size-adjust: 100%;
    text-size-adjust: 100%;
    /* Smooth scrolling */
    scroll-behavior: smooth;
  }

  /* Touch-friendly tap targets */
  button,
  a,
  [role="button"] {
    @apply min-h-[44px];
    /* Ensure minimum tap target size for accessibility */
  }

  /* Improve mobile scrolling performance */
  * {
    -webkit-overflow-scrolling: touch;
  }

  /* Prevent horizontal scroll on mobile */
  body {
    overflow-x: hidden;
  }
}

@layer utilities {
  /* Mobile-specific utilities */
  .touch-pan-y {
    touch-action: pan-y;
  }

  .touch-pan-x {
    touch-action: pan-x;
  }

  /* Safe area insets for notched devices */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  /* Hide scrollbar but keep functionality */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Pulsing border animation for attention-needed items */
  @keyframes pulse-border {
    0%, 100% {
      box-shadow: 0 0 0 0 hsl(var(--warning) / 0.4);
    }
    50% {
      box-shadow: 0 0 0 4px hsl(var(--warning) / 0.2);
    }
  }

  .animate-pulse-border {
    animation: pulse-border 2s ease-in-out infinite;
  }

  /* QuickSwitchDock Status Animations */
  @keyframes pulse-fast {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.7;
      transform: scale(1.1);
    }
  }

  @keyframes pulse-slow {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    50% {
      opacity: 0.5;
      transform: scale(1.05);
    }
  }

  @keyframes pulse-alert {
    0%, 100% {
      opacity: 1;
      transform: scale(1);
    }
    25% {
      opacity: 0.8;
      transform: scale(1.15);
    }
    50% {
      opacity: 1;
      transform: scale(1);
    }
    75% {
      opacity: 0.8;
      transform: scale(1.15);
    }
  }

  .animate-pulse-fast {
    animation: pulse-fast 1s ease-in-out infinite;
  }

  .animate-pulse-slow {
    animation: pulse-slow 2s ease-in-out infinite;
  }

  .animate-pulse-alert {
    animation: pulse-alert 0.8s ease-in-out infinite;
  }
}
